var _0x35ce = ['onmessage', 'data', 'isError', 'onResult', 'message', 'HandShake', 'HandShake\x20Received', 'Print', 'printer', 'Connection\x20has\x20been\x20terminated...', 'Connection\x20is\x20closed,\x20or\x20plugin\x20not\x20installed.', 'retry', 'printerName', 'port', 'FilePrint:\x20', 'prototype', 'connect', 'action', 'htmlData', 'connected', 'ws://localhost:', '/service', 'socket', 'onopen', 'send']; (function (_0x187f27, _0x54688e) { var _0x1f24cb = function (_0x1a9e26) { while (--_0x1a9e26) { _0x187f27['push'](_0x187f27['shift']()); } }; _0x1f24cb(++_0x54688e); }(_0x35ce, 0x70)); var _0x4f5a = function (_0x302e3c, _0x46691b) { _0x302e3c = _0x302e3c - 0x0; var _0x158284 = _0x35ce[_0x302e3c]; return _0x158284; }; var FilePrint = function (_0x14d6aa, _0x22c2b4) { this[_0x4f5a('0x0')] = _0x14d6aa; this['data'] = _0x22c2b4; this[_0x4f5a('0x1')] = 0x2696; }; var objToSend = { 'action': '', 'htmlData': '', 'printer': '' }; var log = function (_0x3cf817) { console['log'](_0x4f5a('0x2') + _0x3cf817); }; FilePrint[_0x4f5a('0x3')][_0x4f5a('0x4')] = function () { objToSend[_0x4f5a('0x5')] = 'HandShake'; objToSend[_0x4f5a('0x6')] = ''; objToSend['printer'] = this[_0x4f5a('0x0')]; this[_0x4f5a('0x7')] = ![]; this['socket'] = new WebSocket(_0x4f5a('0x8') + this[_0x4f5a('0x1')] + _0x4f5a('0x9')); var _0x2caf39 = this; _0x2caf39[_0x4f5a('0xa')][_0x4f5a('0xb')] = function () { log('Connection\x20established'); _0x2caf39['socket'][_0x4f5a('0xc')](JSON['stringify'](objToSend)); }; _0x2caf39[_0x4f5a('0xa')][_0x4f5a('0xd')] = function (_0x40fe82) { var _0x4e3cb5 = _0x40fe82[_0x4f5a('0xe')]; var _0x99a49e = JSON['parse'](_0x4e3cb5); if (_0x99a49e[_0x4f5a('0xf')]) { _0x2caf39['onResult'] && _0x2caf39[_0x4f5a('0x10')]({ 'isError': !![], 'msg': _0x99a49e[_0x4f5a('0x11')] }); log(_0x99a49e[_0x4f5a('0x11')]); return; } switch (_0x99a49e['action']) { case _0x4f5a('0x12'): _0x2caf39['connected'] = !![]; log(_0x4f5a('0x13')); objToSend['action'] = _0x4f5a('0x14'); objToSend[_0x4f5a('0x6')] = _0x2caf39[_0x4f5a('0xe')]; objToSend[_0x4f5a('0x15')] = _0x2caf39[_0x4f5a('0x0')]; _0x2caf39['socket'][_0x4f5a('0xc')](JSON['stringify'](objToSend)); break; } }; _0x2caf39[_0x4f5a('0xa')]['onclose'] = function () { if (_0x2caf39[_0x4f5a('0x7')]) { log(_0x4f5a('0x16')); } else { log(_0x4f5a('0x17')); _0x2caf39['retry']--; if (_0x2caf39[_0x4f5a('0x18')] >= 0x0) { setTimeout(function () { _0x2caf39[_0x4f5a('0x4')](); }, 0x12c); } } }; };